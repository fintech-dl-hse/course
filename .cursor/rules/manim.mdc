---
description:
globs: handbook/manim/**
alwaysApply: false
---

In this directory you can find Manim animations for the handbook.

It will be used for educational purposes.

You can use them to create new animations or to edit existing ones.

You can use the following commands to run the animations:

Use https://github.com/3b1b/manim version of manim. This version differs from community version.

Here is an example of the animation:
```python
from manimlib import *
import numpy as np

class Word2VecVectorMath(Scene):
    def construct(self):
        # Определяем векторы
        king = np.array([3, 4])
        queen = np.array([4, 3])
        man = np.array([3, 1])
        woman = np.array([4, 1])
        king_minus_man = king - man
        result = king_minus_man + woman

        # Создаём оси
        # axes = Axes(
        #     x_range=[0, 4],
        #     y_range=[0, 4],
        #     axis_config={"include_tip": True}
        # )
        # self.add(axes)

        # Отрисовка векторов
        vec_king = Arrow(ORIGIN, king, buff=0, color=RED)
        vec_queen = Arrow(ORIGIN, queen, buff=0, color=GREEN)
        vec_man = Arrow(ORIGIN, man, buff=0, color=BLUE)
        vec_woman = Arrow(ORIGIN, woman, buff=0, color=PURPLE)
        vec_king_man = Arrow(ORIGIN, king_minus_man, buff=0, color=ORANGE, stroke_width=3)
        vec_result = Arrow(ORIGIN, result, buff=0, color=YELLOW)

        # Добавление подписей
        labels = [
            (vec_king, "King", RED),
            (vec_queen, "Queen", GREEN),
            (vec_man, "Man", BLUE),
            (vec_woman, "Woman", PURPLE),
            (vec_king_man, "King - Man", ORANGE),
            (vec_result, "Result", YELLOW)
        ]

        for pos, text, color in labels:
            label = Text(text, color=color).next_to(pos, RIGHT, buff=0.1)
            self.add(label)

        self.play(*[GrowArrow(vec) for vec in [vec_king, vec_queen, vec_man, vec_woman, vec_king_man, vec_result]])
        self.wait(2)%
```

To create the animations, you can use the following command:
```bash
~/miniconda3/envs/manim/bin/manimgl handbook/manim/vllm/prefill_decode.py
```